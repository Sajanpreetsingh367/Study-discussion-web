<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Study Discussion Club — Home</title>

<style>
:root { --accent:#6C63FF; --accent2:#00C2A8;}
*{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif;}
html,body{
  height:100%;width:100%;
  background:radial-gradient(circle at 50% 20%,#2a2a72 0%,#000 90%);
  color:white;
}
.centerBox{display:flex;flex-direction:column;align-items:center;padding:20px;width:100%;}
.header{width:100%;max-width:520px;margin-top:20px;text-align:center;}
.subtitle{font-size:14px;color:#dcdcdc;margin-top:4px;}
.grid{
  margin-top:22px;
  width:100%;
  max-width:520px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
}
.card{
  background:rgba(255,255,255,0.08);
  border-radius:14px;
  padding:16px;
  text-align:center;
  cursor:pointer;
  transition:0.25s;
}
.card:hover{background:rgba(255,255,255,0.16);}
.card img{
  width:70px;height:70px;object-fit:contain;margin-bottom:6px;
}
.logoutBtn{
  margin-top:30px;
  border:none;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  padding:12px 22px;
  border-radius:10px;
  color:white;
  font-weight:700;
  cursor:pointer;
}
.backBtn{
  background:rgba(255,255,255,0.15);
  border:1px solid rgba(255,255,255,0.2);
  padding:8px 14px;
  border-radius:8px;
  color:#fff;
  cursor:pointer;
  margin:10px 0 15px 10px;
}
.hidden{display:none;}
.gallery{
  padding:20px;
  width:100%;
  max-width:520px;
  display:flex;
  flex-direction:column;
  gap:15px;
}
.gallery img{
  width:100%;
  border-radius:14px;
  background:#222;
}
.titleBox{
  width:100%;
  max-width:520px;
  text-align:center;
  margin-top:10px;
  font-weight:600;
  font-size:20px;
}
</style>

</head>
<body>

<!-- ✅ Home Screen -->
<div id="homeScreen" class="centerBox">
  <div class="header">
    <h2 id="examName">Loading...</h2>
    <p class="subtitle">Choose a section to start learning</p>
  </div>

  <div class="grid">
    <div class="card" onclick="openSection('current','Current Affairs')">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png"/>
      <div>Current Affairs</div>
    </div>

    <div class="card" onclick="openSection('practice','Practice Questions')">
      <img src="https://cdn-icons-png.flaticon.com/512/201/201572.png"/>
      <div>Practice Questions</div>
    </div>

    <div class="card" onclick="openSection('mindmap','Mind Maps')">
      <img src="https://cdn-icons-png.flaticon.com/512/952/952717.png"/>
      <div>Mind Maps</div>
    </div>

    <div class="card" onclick="openSection('interview','Interview Practice')">
      <img src="https://cdn-icons-png.flaticon.com/512/2589/2589175.png"/>
      <div>Interview Practice</div>
    </div>
  </div>

  <button class="logoutBtn" onclick="logoutUser()">Logout</button>
</div>


<!-- ✅ Dynamic Section Screen -->
<div id="sectionScreen" class="hidden centerBox">
  <button class="backBtn" onclick="goHome()">⭠ Back</button>
  <div class="titleBox" id="sectionTitle"></div>
  <div class="gallery" id="gallery"></div>
</div>


<script>
// ✅ Exam name show
let exam = localStorage.getItem("selectedExam");
if(exam){ document.getElementById("examName").innerText = exam + " Course"; }

// ✅ JSON Links Map
const jsonLinks = {
  current:"https://raw.githubusercontent.com/avnoordeepsingh733-svg/Avnoor/main/currentaffairs.json",
  practice:"https://raw.githubusercontent.com/avnoordeepsingh733-svg/Avnoor/main/upsc%20practise%20questions.json",
  mindmap:"https://raw.githubusercontent.com/avnoordeepsingh733-svg/Avnoor/main/mindmaps.json",
  interview:"https://raw.githubusercontent.com/avnoordeepsingh733-svg/Avnoor/main/upscinterviewpractisequestions.json"
};

// ✅ Open Section Screen
function openSection(section, title){
  document.getElementById("homeScreen").classList.add("hidden");
  document.getElementById("sectionScreen").classList.remove("hidden");
  document.getElementById("sectionTitle").innerText = title;

  fetch(jsonLinks[section])
  .then(r=>r.json())
  .then(data=>{
    let box=document.getElementById("gallery");
    box.innerHTML="";
    data.forEach(x=>{
      let img=document.createElement("img");
      img.src=x.img;
      box.appendChild(img);
    });
  });
}

// ✅ Back to Home
function goHome(){
  document.getElementById("sectionScreen").classList.add("hidden");
  document.getElementById("homeScreen").classList.remove("hidden");
}

// ✅ Logout
function logoutUser(){
  localStorage.clear();
  window.location.href="index.html";
}
</script>

</body>
</html>
