<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study Discussion Club - Screens</title>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
body {margin:0;font-family:'Segoe UI',Arial,sans-serif;}
.container {display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;min-height:100vh;text-align:center;}
.back-button {position:absolute;top:20px;left:20px;cursor:pointer;font-size:20px;}
.section-title {font-weight:bold;padding:8px;margin-bottom:10px;border-radius:8px;border:1px solid #007AFF;}
.image-frame {padding:10px;margin:5px;width:90%;max-width:400px;border:2px solid #007AFF;border-radius:8px;}
.image-frame img {width:100%;border-radius:5px;}
.menu-btn {padding:15px;border-radius:10px;margin:8px;width:90%;max-width:400px;border:1px solid #ccc;cursor:pointer;background-color:#fff;}
</style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect } = React;

function App() {
  const [screen, setScreen] = useState("home");
  
  const studySections = [
    {name:"ðŸ“Œ Current Affairs", color:"#FFD700", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/current_affairs.json"},
    {name:"ðŸ“ Practice Questions", color:"#90EE90", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/practice_questions.json"},
    {name:"ðŸ§  Mind Maps", color:"#87CEFA", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/mind_map.json"},
    {name:"ðŸ“š Books Summary", color:"#FFB6C1", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/books_summary.json"},
    {name:"ðŸŽ¤ Interview", color:"#FFA07A", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/interview_practise.json"},
    {name:"ðŸ’¬ Discussion", color:"#E6E6FA", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/discussion.json"},
    {name:"ðŸŽ¥ Live Classes", color:"#F0E68C", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/live_classes.json"},
    {name:"ðŸ¦ Donation Bank", color:"#D3D3D3", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/donation.json"},
    {name:"ðŸ“– Vocabulary", color:"#FFE4B5", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/vacubaluray.json"},
    {name:"ðŸ“° SDC News", color:"#FFFACD", raw:"https://raw.githubusercontent.com/Sajanpreetsingh367/Gill-Tarn-taran/main/sdc_news.json"},
  ];

  const renderSectionScreen = (section) => {
    const [data,setData] = useState([]);
    useEffect(()=>{
      fetch(section.raw).then(res=>res.json()).then(json=>setData(json.images || [])).catch(e=>console.log(e));
    },[section.raw]);
    
    return (
      <div className="container" style={{backgroundColor:section.color}}>
        <div className="back-button" onClick={()=>setScreen("home")}>ðŸ”™</div>
        <div className="section-title">{section.name}</div>
        {data.length===0 && <p>No data available.</p>}
        {data.map((img,i)=>(
          <div key={i} className="image-frame"><img src={img} alt={`img-${i}`} /></div>
        ))}
      </div>
    );
  };

  if(screen==="home") return (
    <div className="container" style={{backgroundColor:"#FFFFE0"}}>
      <h2>Study Discussion Club</h2>
      {studySections.map((sec,i)=>
        <div key={i} className="menu-btn" onClick={()=>setScreen(`section-${i}`)}>{sec.name}</div>
      )}
    </div>
  );

  // render each section
  for(let i=0;i<studySections.length;i++){
    if(screen===`section-${i}`) return renderSectionScreen(studySections[i]);
  }

  return null;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
