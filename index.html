<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Study Discussion Club ‚Äî Elite</title>

<!-- React + Babel -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
*{margin:0;padding:0;font-family:Poppins,sans-serif}
body,html,#root{height:100%;background:#000;color:#fff}
.center{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}
.logo{width:130px;height:130px;border-radius:50%;background:radial-gradient(circle,#00FFC6,#6C63FF);display:flex;justify-content:center;align-items:center;font-size:32px;font-weight:800;color:#000;animation:spin 7s linear infinite}
@keyframes spin{0%{transform:rotateY(0)}100%{transform:rotateY(360deg)}}
.card{background:#ffffff10;backdrop-filter:blur(20px);padding:25px;border-radius:15px;width:90%;max-width:350px;text-align:center}
.input{width:100%;padding:12px;border:none;border-radius:10px;margin-top:12px}
.btn{width:100%;padding:12px;margin-top:14px;background:linear-gradient(45deg,#6C63FF,#00FFC6);border:none;border-radius:10px;font-weight:600;color:#000}
.tiles{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:20px}
.tile{background:#fff;color:#000;padding:15px;text-align:center;border-radius:12px;font-weight:700;cursor:pointer}
.tile.selected{background:linear-gradient(45deg,#6C63FF,#00FFC6);color:#fff}
</style>

</head>
<body>
<div id="root"></div>

<script type="module">
// ‚úÖ Firebase Modular SDK
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { 
  getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword,
  onAuthStateChanged 
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
import { 
  getFirestore, doc, setDoc, getDoc 
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

// ‚úÖ REPLACE WITH YOUR FIREBASE CONFIG ‚Üì‚Üì‚Üì
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// global expose
window.F = {auth,db,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,doc,setDoc,getDoc};
</script>

<script type="text/babel">

function App() {
  const [screen,setScreen] = React.useState("splash");
  const [user,setUser] = React.useState(null);
  const [signup,setSignup] = React.useState({username:"",email:"",password:"",pin:""});
  const [pin,setPin] = React.useState("");
  const [exam,setExam] = React.useState("");

  React.useEffect(()=>{
    F.onAuthStateChanged(F.auth, async(u)=>{
      if(!u){setScreen("splash");return;}
      const d = await F.getDoc(F.doc(F.db,"users",u.uid));
      if(d.exists()){
        setUser(d.data());
        if(d.data().pin) setScreen("pinverify");
        else setScreen("signup");
      }
    });
  },[]);

  async function handleSignup(){
    if(!signup.username||!signup.email||!signup.password||signup.pin.length!==6)
      return alert("Fill All Fields ‚úÖ PIN must be 6 digits");
    const u = await F.createUserWithEmailAndPassword(F.auth,signup.email,signup.password);
    await F.setDoc(F.doc(F.db,"users",u.user.uid),{
      ...signup, subscription:false, created:Date.now()
    });
    alert("Account Created üéâ");
    setScreen("exam");
  }

  function verifyPin(){
    if(pin === user.pin){
      setScreen("exam");
    } else alert("Wrong PIN ‚ùå");
  }

  if(screen==="splash") return (
    <div className="center">
      <div className="logo">SDC</div>
      <h2 style={{marginTop:20}}>Study Discussion Club</h2>
      <p style={{opacity:.7}}>Developed by Sajan</p>
      <button className="btn" onClick={()=>setScreen("signup")} style={{width:"70%"}}>Get Started</button>
      <button className="btn" onClick={()=>setScreen("pinverify")} style={{background:"#ffffff20",border:"1px solid #6C63FF",width:"70%",color:"#fff"}}>Login</button>
    </div>
  );

  if(screen==="signup") return (
    <div className="center">
      <div className="card">
        <h3>Create Account</h3>
        <input className="input" placeholder="Username" onChange={e=>setSignup({...signup,username:e.target.value})}/>
        <input className="input" placeholder="Email" onChange={e=>setSignup({...signup,email:e.target.value})}/>
        <input className="input" placeholder="Password" type="password" onChange={e=>setSignup({...signup,password:e.target.value})}/>
        <input className="input" placeholder="6 Digit PIN" maxLength="6" onChange={e=>setSignup({...signup,pin:e.target.value})}/>
        <button className="btn" onClick={handleSignup}>Register</button>
      </div>
    </div>
  );

  if(screen==="pinverify") return(
    <div className="center">
      <div className="card">
        <h3>Enter PIN</h3>
        <input className="input" placeholder="6 Digit PIN" maxLength="6" value={pin} onChange={e=>setPin(e.target.value)}/>
        <button className="btn" onClick={verifyPin}>Continue</button>
      </div>
    </div>
  );

  if(screen==="exam") return(
    <div className="center">
      <h2>Select Exam</h2>
      <div className="tiles">
        {["UPSC","NEET","SSC","JUDICIARY"].map(x=>
          <div className={`tile ${exam===x?"selected":""}`} onClick={()=>setExam(x)}>{x}</div>
        )}
      </div>
      <button className="btn" disabled={!exam} onClick={()=>{
        alert("Subscription Page Next ‚úÖ");
      }}>Next</button>
    </div>
  );

  return <div className="center">Loading...</div>;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);

</script>

</body>
</html>
